<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <title>Web tính phí bảo hiểm AIA</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
</head>
<body class="bg-gray-50">
    <header class="bg-white py-4 px-8 mb-6 flex items-center border-b">
        <img src="logo_aia.png" alt="AIA Logo" class="h-12 mr-4">
        <h1 class="text-2xl font-bold text-aia-red">Công cụ minh họa phí bảo hiểm AIA Việt Nam</h1>
    </header>
    <main class="max-w-4xl mx-auto space-y-8">
        <!-- Section 1: Thông Tin Người Được Bảo Hiểm Chính -->
        <section class="product-section">
            <h2 class="text-xl font-bold mb-4 text-aia-red">1. Thông tin người được bảo hiểm chính</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="name-main" class="font-medium text-gray-700 block mb-1">Họ và tên</label>
                    <input type="text" id="name-main" class="form-input name-input" placeholder="Nguyễn Văn A" required>
                </div>
                <div>
                    <label for="dob-main" class="font-medium text-gray-700 block mb-1">Ngày sinh</label>
                    <input type="text" id="dob-main" class="form-input dob-input" placeholder="DD/MM/YYYY" required>
                    <small class="text-gray-500">Nhập theo định dạng DD/MM/YYYY</small>
                </div>
                <div>
                    <label for="gender-main" class="font-medium text-gray-700 block mb-1">Giới tính</label>
                    <select id="gender-main" class="form-select gender-select">
                        <option value="Nam">Nam</option>
                        <option value="Nữ">Nữ</option>
                    </select>
                </div>
                <div class="flex items-end space-x-4">
                    <span class="text-lg">Tuổi: <span id="age-main" class="font-bold text-aia-red age-span">0</span></span>
                </div>
                <div class="relative">
                    <label for="occupation-input-main" class="font-medium text-gray-700 block mb-1">Nghề nghiệp</label>
                    <input type="text" id="occupation-input-main" class="form-input occupation-input" placeholder="Gõ để tìm nghề nghiệp...">
                    <div class="occupation-autocomplete absolute z-10 w-full bg-white border border-gray-300 rounded-md mt-1 hidden max-h-60 overflow-y-auto"></div>
                </div>
                <div class="flex items-end space-x-4">
                    <span class="text-lg">Nhóm nghề: <span id="risk-group-main" class="font-bold text-aia-red risk-group-span">...</span></span>
                </div>
            </div>
        </section>
        <!-- Section 2: Chọn sản phẩm chính -->
        <section class="product-section">
            <h2 class="text-xl font-bold mb-4 text-aia-red">2. Chọn sản phẩm chính</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div>
                    <label for="main-product" class="font-medium text-gray-700 block mb-1">Sản phẩm chính</label>
                    <select id="main-product" class="form-select">
                        <option value="">-- Chọn sản phẩm --</option>
                        <option value="PUL_TRON_DOI">PUL Trọn đời</option>
                        <option value="PUL_15_NAM">PUL 15 năm</option>
                        <option value="PUL_5_NAM">PUL 5 năm</option>
                        <option value="KHOE_BINH_AN">MUL Khỏe Bình An</option>
                        <option value="VUNG_TUONG_LAI">MUL Vững Tương Lai</option>
                        <option value="TRON_TAM_AN">Trọn Tâm An</option>
                        <option value="AN_BINH_UU_VIET">An Bình Ưu Việt</option>
                    </select>
                </div>
            </div>
            <div id="main-product-options" class="mt-4"></div>
            <div class="mt-2 text-right font-semibold text-aia-red" id="main-product-fee-display"></div>
        </section>
        <!-- Section bổ sung cho người chính -->
        <section class="product-section" id="main-supp-container">
            <h2 class="text-xl font-bold mb-4 text-aia-red">3. Sản phẩm bổ sung cho NĐBH chính</h2>
            <div class="supplementary-products-container space-y-6"></div>
        </section>
        <!-- Section thêm NĐBH bổ sung -->
        <section class="product-section">
            <h2 class="text-xl font-bold mb-4 text-aia-red">4. Thêm người được bảo hiểm bổ sung</h2>
            <button type="button" id="add-supp-insured-btn" class="bg-aia-red text-white py-2 px-4 rounded font-semibold">+ Thêm NĐBH bổ sung</button>
            <div id="supplementary-insured-container"></div>
        </section>
        <!-- Section kết quả tổng hợp phí -->
        <section class="product-section">
            <h2 class="text-xl font-bold mb-4 text-aia-red">5. Tóm tắt phí bảo hiểm</h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="flex flex-col space-y-2">
                    <span>Phí sản phẩm chính: <span id="main-premium-result" class="font-bold text-aia-red">0</span></span>
                    <span id="supplementary-premiums-results"></span>
                    <span>Tổng phí: <span id="total-premium-result" class="font-bold text-aia-red">0</span></span>
                </div>
                <div>
                    <label for="target-age-input" class="font-medium text-gray-700 block mb-1">Tuổi minh họa đến</label>
                    <input type="number" id="target-age-input" class="form-input" min="0" value="0">
                    <button type="button" id="view-summary-btn" class="bg-aia-red text-white py-2 px-4 rounded mt-3 font-semibold">Bảng minh họa chi tiết</button>
                </div>
            </div>
        </section>
        <!-- Modal bảng minh họa -->
        <div id="summary-modal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
            <div class="bg-white rounded-lg shadow-lg w-full max-w-4xl p-6 relative">
                <button id="close-summary-modal-btn" class="absolute top-2 right-2 text-gray-500 hover:text-red-600 text-2xl">&times;</button>
                <div id="summary-content-container"></div>
            </div>
        </div>
        <!-- Hiển thị lỗi -->
        <div id="error-message" class="text-red-600 font-semibold text-center mt-4"></div>
    </main>
    <footer class="mt-10 py-8 text-center text-xs text-gray-500 border-t">
        Công cụ này chỉ mang tính chất tham khảo cá nhân, không phải là bảng minh họa chính thức của AIA. Quyền lợi và mức phí cụ thể sẽ được xác nhận trong hợp đồng do AIA phát hành. Vui lòng liên hệ tư vấn viên AIA để được hỗ trợ chính xác nhất.
    </footer>
    <script type="module" src="logic.js"></script>
</body>
</html>
